name: "Presubmit - AI Code Review & Fixes"
description: "AI-powered code reviews that detect issues, provide summaries, and suggest auto-fixes on PRs."
author: "Presubmit.ai"
branding:
  icon: "check-square"
  color: "black"
  tags: "ai,code-review,ai-assisted,automation,pull-requests,linting,ci,autofix,devtools"

runs:
  using: "node20"
  main: "dist/index.js"

inputs:
  style_guide_rules:
    required: false
    description: 'Custom style guide rules that will be enforced during review by generating critical comments'
    default: ''
  github_api_url:
    required: false
    description: 'GitHub API URL for GitHub Enterprise Server (e.g., https://github.example.com/api/v3)'
    default: 'https://api.github.com'
  github_server_url:
    required: false
    description: 'GitHub Server URL for GitHub Enterprise Server (e.g., https://github.example.com)'
    default: 'https://github.com'
  custom_mode:
    required: false
    description: 'Enhanced senior engineer review mode: on | off | auto'
    default: 'auto'
  llm_model:
    required: false
    description: 'Override LLM model (e.g., gpt-4o-mini)'
    default: ''
  llm_provider:
    required: false
    description: 'Override LLM provider (e.g., ai-sdk)'
    default: ''
  review_scopes:
    required: false
    description: 'Comma-separated review scopes to run: security,performance,best-practices'
    default: ''
  allow_title_update:
    required: false
    description: 'Allow the action to update PR title when @presubmit is present (default: true)'
    default: 'true'
  max_codeblock_lines:
    required: false
    description: 'Maximum lines in code block snippets (default: 60)'
    default: '60'
  max_review_chars:
    required: false
    description: 'Maximum total characters of diffs per LLM call (default: 725000)'
    default: '725000'
